{% extends 'base_layout.html' %}

{% load static %}
{% block content %}

    <title>Home Page</title>
    <style>
        .home_page_body{
        background: #00416A;  /* fallback for old browsers */
        background: -webkit-linear-gradient(to bottom, #E4E5E6, #00416A);  /* Chrome 10-25, Safari 5.1-6 */
        background: linear-gradient(to bottom, #E4E5E6, #00416A); /* W3C, IE 10+/ Edge, Firefox 16+, Chrome 26+, Opera 12+, Safari 7+ */

         height:100%;
        }


        .table {
        background-color: white;
        color: black;
        font-family:'Courier New', Courier, monospace;
        font-weight:500;
        }
        table.table-bordered > thead > tr > th {
          border:1px solid #1e3c72;
        }
        table.table-bordered > tbody > tr > td {
          border:1px solid #1e3c72;
        }

        .headline {
         font-family: 'Courier New', Courier, monospace;
         padding-top:20px;
         color: black;
         font-weight: 400;
        }
        .img_log{
            text-align:center;
        }


    </style>
<body class="home_page_body">
    <br>
    <br>
        <div class="img_log center">
            <img src="{% static 'logo_4.png' %}">
        </div>

    <br>

    <div class="my-chart" align="center">
        <div id="container" style="width: 30%;">
    <canvas id="pie-chart"></canvas>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/chart.js@2.9.3/dist/Chart.min.js"></script>
  <script>

    var config = {
      type: 'pie',
      data: {
        datasets: [{
          data: {{ data|safe }},
          backgroundColor: [
            '#3D85C6','#E69138' ,'#6AA84F'
          ],
          label: 'Nutrition'
        }],
        labels: {{ labels|safe }}
      },
      options: {
        responsive: true,
        legend: {
            position: 'bottom',
            color: '#FFE599',
          },
          title: {
            display: true,
            text: 'Your Macronutrients Breakdown',

          }
      }
    };

    window.onload = function() {
      var ctx = document.getElementById('pie-chart').getContext('2d');
      window.myPie = new Chart(ctx, config);
    };

  </script>
    </div>




    <br>
    <h1 class="headline text-center mt-auto mb-auto">Recent Entries</h1>
    <div class="container table-responsive py-5">
    <table class="table table-bordered table-hover">
      <thead class="thead-dark">
        <tr class="text-center">
<!--          <th scope="col">Time</th>-->
          <th scope="col" width="600">Food</th>
          <th scope="col">Calorie</th>
          <th scope="col">Quantity</th>
          <th scope="col">Diet</th>
        </tr>
      </thead>

      <tbody>
        {% for food in food_selected_today %}
        <tr class="text-center">
<!--          <td> {{ time }}</td>-->
          <td>{{ food.title }}</td>
          <td> {{ food.calories }}</td>
          <td> {{ food.quantity }}</td>
          <td> {{ food.diet }}</td>
        </tr>
        {% endfor %}
    </tbody>
  </table>
  </div>
</body>
{% endblock %}